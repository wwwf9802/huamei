<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<title>任务明细</title>
		<!-- Mobile Devices Support @begin -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0" />
		<meta content="yes" name="apple-mobile-web-app-capable">
		<meta content="yes" name="apple-touch-fullscreen">
		<meta content="telephone=no,email=no" name="format-detection">
		<script src="../js/flexible.js" type="text/javascript"></script>
		<script src="../js/flexible_css.js" type="text/javascript"></script>
		<link rel="stylesheet" href="../css/base-reset.css">
		<link rel="stylesheet" href="../css/mui.min.css">
		<link rel="stylesheet" type="text/css" href="../css/common.css">
		<link rel="stylesheet" type="text/css" href="../css/ww.css">
	</head>

	<body class="projectProgress">
		<div class="mui-bar mui-bar-nav header project-list-head">
			<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
			东莞南城区南城花园一期A栋2306
		</div>
		<div class="g-content" style="padding-bottom: 2rem;">
			<div class="mui-scroll-wrapper mui-slider-indicator mui-segmented-control mui-segmented-control-inverted">
				<div class="mui-scroll">
					<div class="mui-control-item mui-active">
						全部
					</div>
					<div class="mui-control-item">
						开工前
					</div>
					<div class="mui-control-item">
						水电
					</div>
					<div class="mui-control-item">
						水泥
					</div>
					<div class="mui-control-item">
						木工
					</div>
					<div class="mui-control-item">
						木工
					</div>
				</div>
			</div>
			<div class="box">
				<div class="tab"><span>计划日期</span><span>滚动日期</span><span>事项</span></div>
				<div class="itemList">
					<div class="item" v-for="item in dataArr">
						<span class="point"></span>
						<span class="line1"></span>
						<span class="time">{{item.planStartTime | formatDate}}</span>
						<span class="point"></span>
						<span class="line2"></span>
						<span class="time">{{item.realStartTime | formatDate}}</span>
						<span class="txt">{{item.nodeName}}</span>
					</div>
				</div>
			</div>
		</div>
		<div class="btn-status">
				<div class="statu"><span class="point"></span>未开始</div>
				<div class="statu"><span class="point"></span>进行中</div>
				<div class="statu"><span class="point"></span>延期</div>
				<div class="statu"><span class="point"></span>完成</div>
		</div>
		<script src="../js/zepto1.1.6.min.js" type="text/javascript"></script>
		<script src='../js/mui.min.js'></script>
		<script src='../js/vue.min.js'></script>
		<script type="text/javascript" src="../js/global.js"></script>
		<script>
			Vue.filter('formatDate', function(value) {
				if(!isEmpty(value)) {
					var dateVal = new Date(value);
					return(dateVal.getMonth() + 1) + "/" + dateVal.getDate();
				}
				return "";
			})

			var vm = new Vue({
				el: "body",
				data: {
					dataArr: []
				},
				methods: {},
				ready: function() {
					init();
				}
			});

			function init() {
				mui.ajax(getBaseServerUrl() + '/sites/sitesSchedule/queryScheduleList', {
					type: 'get', //HTTP请求类型
					data: {
						sitesId: localStorage.selectSitesId
					},
					success: function(jsonData) {
						vm.dataArr = jsonData.other.list;
					},
					error: function() {}
				});
			}
		</script>
	</body>

</html>